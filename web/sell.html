<!DOCTYPE html>

<head>
	<title>Textbook Swap</title>
	<link type="text/css" href="dark.css" rel="stylesheet">
	
	<style type="text/css">
		.formError { color: red; font-weight: bold }
	</style>
	
	<!-- JavaScript for volunteer form data validation -->
	<script type="text/javascript">
		var errorCount = new Number(0);
		
		function displayError( errorMsg )
		{
			errorCount = errorCount + 1;

			if (document.getElementById('formFeedback').innerHTML != "")
			{
				document.getElementById('formFeedback').innerHTML =
					document.getElementById('formFeedback').innerHTML + "<br/>" + "Error #" + errorCount + " - " + errorMsg;
			}
			else
			{
				document.getElementById('formFeedback').innerHTML = "Error #" + errorCount + " - " + errorMsg;
			}
		}
	
		function validateForm()
		{
		// reset error indicators
			errorCount = 0;
			document.getElementById('formFeedback').innerHTML = "";
			
			var validForm = new Boolean(true);
			
		// first names must be letter, spaces, and hyphens and 50 or fewer characters
			var validInputValue = new Boolean(true);
			var firstNameValue = document.forms["selling_info"]["firstName"].value;
			var myRegExp = new RegExp("^[a-zA-Z -]{1,50}$");
			
		// Test our receivedValue string against the regular expression
			validInputValue = myRegExp.test(firstNameValue);  
			
		// Update form feedback
			if (validInputValue) 
			{
				document.getElementById('firstNameFeedback').innerHTML = "";
			}
			else
			{
				validForm = false;
				displayError("First name must be letters, hyphens, spaces and 50 or fewer characters" );
				document.getElementById('firstNameFeedback').innerHTML = "Error #" + errorCount;
			}

		// last names must be letter, spaces, and hyphens and 50 or fewer characters
			var lastNameValue = document.forms["selling_info"]["lastName"].value;
			
		// Test our receivedValue string against the regular expression
			validInputValue = myRegExp.test(lastNameValue);  
			
		// Update form feedback
			if (validInputValue) 
			{
				document.getElementById('lastNameFeedback').innerHTML = "";
			}
			else
			{
				validForm = false;
				displayError("Last name must be letters, hyphens, spaces and 50 or fewer characters" );
				document.getElementById('lastNameFeedback').innerHTML = "Error #" + errorCount;
			}

		// email address must be letters, digits, underscores, and periods with one @
			var emailAddressValue = document.forms["selling_info"]["emailAddress"].value;
			myRegExp = new RegExp("^[a-zA-Z0-9_.]+@[a-zA-Z0-9_.]+$");
			
		// Test our receivedValue string against the regular expression
			validInputValue = myRegExp.test(emailAddressValue);  
			
		// Update form feedback
			if (validInputValue) 
			{
				document.getElementById('emailFeedback').innerHTML = "";
			}
			else
			{
				validForm = false;
				displayError("Email address must be letters, digits, underscores, and periods with one @");
				document.getElementById('emailFeedback').innerHTML = "Error #" + errorCount;
			}

		// price
			var priceValue = document.forms["selling_info"]["price"].value;
			myRegExp = new RegExp("^[0-9]$");  // check that age is numeric
			
		// Test our receivedValue string against the regular expression
			validInputValue = myRegExp.test(priceValue);  
			
			var price = new Number(priceValue);  // convert to a number
			
		// Update form feedback
			if ((validInputValue) && (age > 0) && (age <= 999)) 
			{
				document.getElementById('priceFeedback').innerHTML = "";
			}
			else
			{
				validForm = false;
				displayError("Price must be numeric in range of 0 to 999 inclusive");
				document.getElementById('priceFeedback').innerHTML = "Error #" + errorCount;
			}

	</script>		
</head>

<div id="header" class="container">
	<div id="logo">
		<h1><a href="about.html">Textbook Swap</a></h1>
	</div>
</div>

<body>
	<div id="menu">
		<ul>
			<li><a href="about.html" accesskey="1" title="">About</a></li>
			<li><a href="buy.php" accesskey="2" title="">Buy</a></li>
			<li class="active"><a href="#" accesskey="3" title="">Sell</a></li>
			<li><a href="login.php" accesskey="4" title="">Edit</a></li>
		</ul>
	</div>

	<div class="wrapper">
		<h2>Sell</h2>

		<tr>
			<td colspan="4">
				<center>
					<form name="selling_info" method="post" id="volunteer_form" action="insert.php" onsubmit="return validateForm()">
						<h3>Enter the book information</h3>
						<div id="formFeedback" class="formError"></div>
						<table>
							<tbody>
								<tr>
									<td>Book Title: </td>
									<td><input type="text" name="title" maxlength="50" size="50" align="left"></input></td>
								</tr>
								<tr>
									<td>ISBN: </td>
									<td><input type="text" name="isbn" maxlength="13" size="13" align="left"></input></td>
								</tr>
								<tr>
									<td>Publisher: </td>
									<td><input type="text" name="publisher" maxlength="30" size="30" align="left"></input></td>
								</tr>
								<tr>
								<tr>
									<td>Author's Name: </td>
									<td><input type="text" name="authorName" maxlength="50" size="50" align="left"></input></td>
								</tr>
								<tr>
									<td>Price: </td>
									<td><input type="text" name="price" maxlength="10" size="10" align="left"></input></td>
									<td><div id="priceFeedback" class="formError"></div></td>
								</tr>
								<tr>
									<td>Upload Photo: </td>
									<!-- <input disabled type="file" name="pic" accept="image/*"> -->
								</tr>
								<tr>
									<td>Your Email: </td>
									<td><input type="text" name="email" size="50" align="left"></input></td>
									<td><div id="emailFeedback" class="formError"></div></td>
								</tr>
								<tr>
									<td>Your Password: </td>
									<td><input type="text" name="password" size="50" align="left"></input></td>
								</tr>
								<tr>
									<td>Your First Name: </td>
									<td><input type="text" name="firstName" size="25" align="left"></input></td>
									<td><div id="firstNameFeedback" class="formError"></div></td>
								</tr>
								<tr>
									<td>Your Last Name: </td>
									<td><input type="text" name="lastName" size="25" align="left"></input></td>
									<td><div id="lastNameFeedback" class="formError"></div></td>
								</tr>
								<tr>
									<td>Phone Number: </td>
									<td><input type="text" name="number" size="10" align="left"></input></td>
								</tr>
								<tr>
									<td>Squadron: </td>
									<td><input type="text" name="squadron" size="2" align="left"></input></td>
								</tr>
								<tr>
									<td colspan="2"><br/><input type="submit" value="Sell"></input></td>
								</tr>
							</tbody>
						</table>
					</form>
				</center>
			</td>
		</tr>
	</div>

</body>
</html>

